{% extends 'base.html.twig' %}

{% block title %}Exams | Student{% endblock %}

{% block body %}
<div class="container py-5">
    <nav aria-label="breadcrumb" class="mb-4">
        <ol class="breadcrumb bg-transparent p-0">
            <li class="breadcrumb-item"><a href="{{ path('student_dashboard') }}" class="text-decoration-none">Dashboard</a></li>
            <li class="breadcrumb-item active" aria-current="page">Exams</li>
        </ol>
    </nav>
    
    <h1 class="display-5 fw-bold text-dark mb-4">My Exams</h1>

    <h1 class="display-5 fw-bold text-dark mb-4">My Exams</h1>

    <ul class="nav nav-pills mb-4" id="pills-tab" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active rounded-pill" id="pills-active-tab" data-bs-toggle="pill" data-bs-target="#pills-active" type="button" role="tab">Active</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link rounded-pill" id="pills-upcoming-tab" data-bs-toggle="pill" data-bs-target="#pills-upcoming" type="button" role="tab">Upcoming</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link rounded-pill" id="pills-past-tab" data-bs-toggle="pill" data-bs-target="#pills-past" type="button" role="tab">Past</button>
        </li>
    </ul>

    <div class="tab-content" id="pills-tabContent">
        {# Active Exams #}
        <div class="tab-pane fade show active" id="pills-active" role="tabpanel">
            {% if activeExams is empty %}
                <div class="text-center py-5 bg-light rounded-3">
                    <h5 class="text-muted">No active exams at the moment.</h5>
                </div>
            {% else %}
                <div class="row g-4">
                    {% for exam in activeExams %}
                        {% include 'student/exam/_exam_card.html.twig' with {'exam': exam, 'status': 'active'} %}
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        {# Upcoming Exams #}
        <div class="tab-pane fade" id="pills-upcoming" role="tabpanel">
            {% if upcomingExams is empty %}
                <div class="text-center py-5 bg-light rounded-3">
                    <h5 class="text-muted">No upcoming exams.</h5>
                </div>
            {% else %}
                <div class="row g-4">
                    {% for exam in upcomingExams %}
                         {% include 'student/exam/_exam_card.html.twig' with {'exam': exam, 'status': 'upcoming'} %}
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        {# Past Exams #}
        <div class="tab-pane fade" id="pills-past" role="tabpanel">
            {% if pastExams is empty %}
                 <div class="text-center py-5 bg-light rounded-3">
                    <h5 class="text-muted">No past exams.</h5>
                </div>
            {% else %}
                <div class="row g-4">
                    {% for exam in pastExams %}
                        {% include 'student/exam/_exam_card.html.twig' with {'exam': exam, 'status': 'past'} %}
                    {% endfor %}
                </div>
            {% endif %}
        </div>
    </div>
</div>

{# Inline partial for exam card to keep it clean #}
{% block _exam_card %}
{# NOTE: In a real app better to put this in a separate file, but using inline for now #}
{% endblock %}
{% endblock %}
